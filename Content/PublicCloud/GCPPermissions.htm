<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
    <head>
    </head>
    <body>
        <h1><MadCap:variable name="local.GoogleCloudPlatform" /> Permissions</h1>
        <p>To let <MadCap:variable name="local.ProductName" /> monitor your <MadCap:variable name="local.GoogleCloudPlatform" /> projects, you must set up the required permissions. The steps described below must be repeated for each project. For more information, see the <a href="https://cloud.google.com/iam/docs/granting-changing-revoking-access">official <MadCap:variable name="local.GoogleCloudPlatform" /> documentation</a>. </p>
        <p>One way to let <MadCap:variable name="local.ProductName" /> monitor your <MadCap:variable name="local.GoogleCloudPlatform" /> projects is by allowing <MadCap:variable name="local.ProductName" />'s own <MadCap:variable name="local.GoogleCloudPlatform" /> service account to 'impersonate' a service account in your project that has the appropriate permissions. Another is to provide <MadCap:variable name="local.ProductName" /> with a private key that contains the appropriate credentials.</p>
        <p>Complete the following steps:</p>
        <ol>
            <li>
                <p>Enable the API for your <MadCap:variable name="local.GoogleCloudPlatform" /> project by going to the following URL in your browser: https://console.developers.google.com/apis/api/iam.googleapis.com/overview?project=PROJNAME, where PROJNAME is the name of your project. The API can be subsequently disabled if you desire, by returning to the same URL.</p>
            </li>
            <li>In the <MadCap:variable name="local.GoogleCloudPlatform" /> console, create a new service account.</li>
            <li>
                <p>Assign the required roles to the new service account using one of the following two methods:</p>
                <p>
                    <ol style="list-style-type: lower-alpha;">
                        <li>
                            <p>Assign predefined roles <span class="StatusOrValue">compute viewer</span> and <span class="StatusOrValue">security reviewer</span>. </p>
                            <p>If you want to be able to modify your <MadCap:variable name="local.GoogleCloudPlatform" /> security controls via <MadCap:variable name="local.ProductName" />, assign also the predefined roles <span class="StatusOrValue">Storage Admin</span> and <span class="StatusOrValue">Compute Security Admin</span></p>
                        </li>
                        <li>
                            <p>Create and assign a custom role with permissions:</p>
                            <ul>
                                <li>
                                    <p>compute.addresses.list</p>
                                </li>
                                <li>
                                    <p>compute.backendBuckets.list</p>
                                </li>
                                <li>
                                    <p>compute.backendServices.list</p>
                                </li>
                                <li>
                                    <p>compute.firewalls.list</p>
                                </li>
                                <li>
                                    <p>compute.forwardingRules.list</p>
                                </li>
                                <li>
                                    <p>compute.globalAddresses.list</p>
                                </li>
                                <li>
                                    <p>compute.globalForwardingRules.list</p>
                                </li>
                                <li>
                                    <p>compute.globalNetworkEndpointGroups.list</p>
                                </li>
                                <li>
                                    <p>compute.instanceGroups.get</p>
                                </li>
                                <li>
                                    <p>compute.instanceGroups.list</p>
                                </li>
                                <li>
                                    <p>compute.instances.list</p>
                                </li>
                                <li>
                                    <p>compute.networkEndpointGroups.list</p>
                                </li>
                                <li>
                                    <p>compute.networkEndpointGroups.get</p>
                                </li>
                                <li>
                                    <p>compute.networks.list</p>
                                </li>
                                <li>
                                    <p>compute.regionBackendServices.list</p>
                                </li>
                                <li>
                                    <p>compute.regionNetworkEndpointGroups.list</p>
                                </li>
                                <li>
                                    <p>compute.regionTargetHttpProxies.list</p>
                                </li>
                                <li>
                                    <p>compute.regionTargetHttpsProxies.list</p>
                                </li>
                                <li>
                                    <p>compute.regionUrlMaps.list</p>
                                </li>
                                <li>
                                    <p>compute.routes.list</p>
                                </li>
                                <li>
                                    <p>compute.subnetworks.list</p>
                                </li>
                                <li>
                                    <p>compute.targetGrpcProxies.list</p>
                                </li>
                                <li>
                                    <p>compute.targetHttpProxies.list</p>
                                </li>
                                <li>
                                    <p>compute.targetHttpsProxies.list</p>
                                </li>
                                <li>
                                    <p>compute.targetInstances.list</p>
                                </li>
                                <li>
                                    <p>compute.targetPools.list</p>
                                </li>
                                <li>
                                    <p>compute.targetSslProxies.list</p>
                                </li>
                                <li>
                                    <p>compute.targetTcpProxies.list</p>
                                </li>
                                <li>
                                    <p>compute.urlMaps.list</p>
                                </li>
                                <li>
                                    <p>iam.roles.get</p>
                                </li>
                                <li>
                                    <p>iam.roles.list</p>
                                </li>
                                <li>
                                    <p>iam.serviceAccounts.getIamPolicy</p>
                                </li>
                                <li>
                                    <p>iam.serviceAccounts.list</p>
                                </li>
                                <li>
                                    <p>storage.buckets.getIamPolicy</p>
                                </li>
                                <li>
                                    <p>storage.buckets.list</p>
                                </li>
                                <li>
                                    <p>resourcemanager.projects.getIamPolicy</p>
                                </li>
                            </ul>
                            <p>If you want to be able to modify your <MadCap:variable name="local.GoogleCloudPlatform" /> security controls via <MadCap:variable name="local.ProductName" />, also give permissions:</p>
                            <ul>
                                <li>storage.buckets.setIamPolicy</li>
                                <li>compute.firewalls.update</li>
                                <li>compute.firewalls.delete</li>
                            </ul>
                        </li>
                    </ol>
                </p>
            </li>
            <li>If you want <MadCap:variable name="local.ProductName" /> to connect to your service account via SecureCloud’s own service account, give permission to access the service account you have just created to SecureCloud’s service account, named <span class="StatusOrValue"><MadCap:variable name="local.SecureCloudGCPAccount" /></span>, by assigning it the role of “Service Account Token Creator”.</li>
            <li>If you want <MadCap:variable name="local.ProductName" /> to connect to your service account using a private key json file, make sure you have created a json key for your service account.</li>
        </ol>
    </body>
</html>